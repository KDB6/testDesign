<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>animation</title>

    <link rel="stylesheet" href="../assets/css/common.css" />
    <link rel="stylesheet" href="../assets/css/font.css" />
    <link rel="stylesheet" href="../assets/css/reset.css" />

    <link rel="stylesheet" href="../assets/css/animation.css" />
  </head>
  <body>
    <section id="animation" class="container">
      <!-- card -->
      <article id="card">
        <div class="card">
          <div class="card1 move from-left fade-in">
            <h2 class="move-color">CARD</h2>
          </div>
          <div class="card2">
            <h2>CARD</h2>
          </div>
          <div class="card3">
            <h2>CARD</h2>
          </div>
        </div>
      </article>

      <!-- graph -->
      <article id="graph">
        <div class="graph">
          <div class="bar1 graph-ani"></div>
          <div class="bar2 graph-ani"></div>
          <div class="bar3 graph-ani"></div>
          <div class="bar4 graph-ani"></div>
        </div>
      </article>

      <!-- number -->
      <article>
        <div class="number">0</div>
      </article>
    </section>

    <script>
      const card1 = document.querySelector(".card1");
      const card2 = document.querySelector(".card2");
      const card3 = document.querySelector(".card3");

      const counter = ($counter, max) => {
        let now = max;
        const handle = setInterval(() => {
          $counter.innerHTML = Math.ceil(max - now);

          // 목표수치에 도달하면 정지
          if (now < 1) {
            clearInterval(handle);
          }

          // 증가되는 값이 계속하여 작아짐
          const step = now / 10;

          // 값을 적용시키면서 다음 차례에 영향을 끼침
          now -= step;
        }, 30);
      };

      window.onload = () => {
        // 카운트를 적용시킬 요소
        const $counter = document.querySelector(".number");

        // 목표 수치
        const max = 100;

        setTimeout(() => counter($counter, max), 30);
      };
    </script>
  </body>
</html>
